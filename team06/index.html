<!doctype html>

<!--
=================================================
Owned by Team 06
=================================================
-->

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Basic Static Site</title>
  <link rel="stylesheet" href="../style.css" />

  <script src="../scripts/vocabulary.js"></script>
  <script src="../scripts/save.js"></script>

  <!-- You are allowed to use JQuery and Vue.js but don't have to. They just make a
  lot of things easier
  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"> 
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <!-- Site specific scripts and styles -->
  <link rel="stylesheet" href="index.css" />
  <link rel="stylesheet" href="styles/intro.css" />
  <link rel="stylesheet" href="styles/level.css" />
  <link rel="stylesheet" href="components/clock.css" />
  <link rel="stylesheet" href="styles/game.css" />
  <link rel="stylesheet" href="styles/summary.css" />
  <script type="module" src="components/clock.js"></script>
  <!-- <script src="index.js" defer></script> -->
  <script type="module" src="index.js"></script>
</head>
<body>
  <header>
    <h1>Team 06</h1>
  </header>

  <!-- TODO: Remove this div and it's content -->
  <div style="display: none;">
      <hr>
      <h2>A basic section to make sure that everything works for everyone</h2>

      <p>Font awesome is working: <i class="fa-solid fa-check"></i> (A checkmark should be visible)</p>

      <button id="check-jquery">Check if Javascript and JQuery is working</button> (Clicking the button should show an alert)

      <button id="check-saving">Click this button to see if saving works</button>
      <hr>
  </div>

  <main class="game-frame">
    
    <!-- INTRO VIEW -->
    <div id="intro-view" class="view">
      <div class="intro-container">
        <div class="game-icon">
          <i class="fa-solid fa-clock"></i>
        </div>
        
        <h1 class="game-title">Tick-Tock Time</h1>
        <h2 class="game-title-sv">Klockkul</h2>
        
        <div class="chapter-badge">
          <i class="fa-solid fa-book"></i>
          Chapter 1.10 - Time to play!
        </div>
        
        <p class="game-description">
          Ready to race the clock? Practice Swedish time expressions while clicking, typing, and laughing at your mistakes. You'll master time step by step ‚Äî and fast!
        </p>
        
        <button class="start-btn" onclick="showLevelSelection()">
          <i class="fa-solid fa-play"></i> Start Playing
        </button>
      </div>
    </div>

    <!-- LEVEL VIEW -->
    <div id="level-view" class="view" style="display: none;">
      <div class="level-container">
        <h1 class="level-title">Choose Your Level</h1>
        
        <div class="level-cards">
          <!-- Beginner Card -->
          <div class="level-card">
            <div class="level-icon">
              <i class="fa-solid fa-clock"></i>
            </div>
            <h3 class="level-name">Beginner</h3>
            <p class="level-description">Start with basic hours and half hours</p>
            <button class="level-btn" onclick="startGame('easy')">Play Now</button>
          </div>
          
          <!-- Intermediate Card -->
          <div class="level-card">
            <div class="level-icon">
              <i class="fa-solid fa-clock"></i>
            </div>
            <h3 class="level-name">Intermediate</h3>
            <p class="level-description">Practice quarters and complex times</p>
            <button class="level-btn" onclick="startGame('medium')">Play Now</button>
          </div>
          
          <!-- Advanced Card -->
          <div class="level-card">
            <div class="level-icon">
              <i class="fa-solid fa-clock"></i>
            </div>
            <h3 class="level-name">Advanced</h3>
            <p class="level-description">Master time during dialogue</p>
            <button class="level-btn" onclick="startGame('hard')">Play Now</button>
          </div>
        </div>
        
        <button class="back-btn" onclick="showIntro()">
          <i class="fa-solid fa-arrow-left"></i> Back
        </button>
      </div>
    </div>

    <!-- GAME VIEW -->
    <div id="game-view" class="view" style="display: none;">
      <div class="game-container">
        
        <!-- Game Header with Score -->
        <div class="game-header">
          <div class="progress-info">
            <span id="question-counter">Question 1/6</span>
          </div>
          <div class="score-display">
            <i class="fa-solid fa-star"></i>
            <span>Score: </span><span id="score-value">0</span>
          </div>
        </div>

        <!-- Clock Component -->
        <object type="text/html" data="./components/clock.html" height="250" width="250" id="clock-object"></object>

        <!-- Question Display -->
        <div class="question-section">
          <p class="question-label">Question:</p>
          <p id="question" class="question-text">Vad √§r klockan?</p>
        </div>

        <!-- Answer Buttons -->
        <div class="answers-container" id="answers-container">
          <!-- Answer buttons will be populated by JavaScript -->
        </div>
        <!-- <button id="hint-btn" class="hint-btn" style="display:none;" onclick="
          (function(){
            const q = window.currentQuestion;
            if (!q || !q.hint) return;
            const hs = document.getElementById('hint-section');
            const isVisible = hs && hs.style.display !== 'none';
            toggleHint(!isVisible, q.hint);
          })();
        ">
          Show Hint
        </button> -->

        <!-- Text Input (for medium & hard levels) -->
        <div class="text-input-section" id="text-input-section" style="display: none;">
          <input 
            type="text" 
            id="answer-input" 
            class="answer-input" 
            placeholder="Type your answer here..."
            autocomplete="off"
          />
          
          <!-- Swedish Special Characters -->
          <div class="swedish-letters">
            <button class="letter-btn" onclick="insertLetter('√•')">√•</button>
            <button class="letter-btn" onclick="insertLetter('√§')">√§</button>
            <button class="letter-btn" onclick="insertLetter('√∂')">√∂</button>
            <button class="letter-btn" onclick="insertLetter('√Ö')">√Ö</button>
            <button class="letter-btn" onclick="insertLetter('√Ñ')">√Ñ</button>
            <button class="letter-btn" onclick="insertLetter('√ñ')">√ñ</button>
          </div>
          
          <div class="hint-section" id="hint-section" style="display: none;">
            <p class="hint-label"><i class="fa-solid fa-lightbulb"></i> Hint:</p>
            <p class="hint-text" id="hint-text"></p>
          </div>
        </div>

        <!-- Submit Button -->
        <button id="submit-btn" class="submit-btn" onclick="submitAnswer()">
          Submit Answer
        </button>
        <button id="next-btn" class="next-btn" style="display: none;" onclick="nextQuestion()">
          Next Question
        </button>

        <!-- Feedback Message -->
        <div id="feedback-message" class="feedback-message" style="display: none;"></div>

        <!-- Next Action -->
        <!-- <div id="next-actions" class="next-actions" style="display: none;">
        <button onclick="nextQuestion()" class="next-btn">Next Question</button>
        <button onclick="showFinish()" class="finish-btn">Finish Game</button>
        </div> -->

        <!-- Test Button -->
        <button id="test-fetch" class="test-btn" style="display: none;">Test Fetch Data</button>
        
      </div>
    </div>

   <!-- SUMMARY VIEW -->
    <div id="summary-view" class="view" style="display: none;">
      <div class="summary-container">
        <h1 class="summary-title">üéâ Well Done!</h1>
        <p class="summary-text">You've completed the challenge!</p>

        <div class="summary-score-box">
          <p class="summary-label">Final Score</p>
          <h2 id="final-score">0</h2>
        </div>

        <div class="summary-buttons">
          <button class="summary-btn" onclick="restartGame()">üîÅ Play Again</button>
          <button class="summary-btn" onclick="showLevelSelection()">‚¨Ö Back to Levels</button>
        </div>
      </div>
    </div>

    <!-- 
    ===================================================
    OLD GAME-FRAME CONTENT (KEPT AS REFERENCE)
    ===================================================
    <object type="text/html" data="./components/clock.html" height="80%" width="80%"></object>
    <p>Question:</p>
    <p id="question">something</p>
    <button id="test-fetch">Click to test fetching of data</button>
    ===================================================
    -->
    
  </main>

  <footer>
    <small>Created as part of the "Software Engineering and Project Management" course 2025</small>
  </footer>
</body>
</html>
